(function(){var a=false;(function(f,b,d,c,e){!function(g){bettercms.define(["exports"],g);}(function(n){var m=typeof n!=="undefined"?n:{};m.exportSymbol=function(w,x){var z=w.split(".");var y=m;for(var v=0;v<z.length-1;v++){y=y[z[v]];}y[z[z.length-1]]=x;};m.exportProperty=function(w,x,v){w[x]=v;};m.version="2.2.1";m.exportSymbol("version",m.version);m.utils=new (function(){var H=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;var E={},G={};var D=/Firefox\/2/i.test(d.userAgent)?"KeyboardEvent":"UIEvents";E[D]=["keyup","keydown","keypress"];E.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var w in E){var F=E[w];if(F.length){for(var x=0,C=F.length;x<C;x++){G[F[x]]=w;}}}var v={propertychange:true};var y=(function(){var K=3,I=b.createElement("div"),J=I.getElementsByTagName("i");while(I.innerHTML="<!--[if gt IE "+(++K)+"]><i></i><![endif]-->",J[0]){}return K>4?K:e;}());var A=y===6,B=y===7;function z(I,J){if((m.utils.tagNameLower(I)!=="input")||!I.type){return false;}if(J.toLowerCase()!="click"){return false;}var K=I.type;return(K=="checkbox")||(K=="radio");}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(J,I){for(var K=0,L=J.length;K<L;K++){I(J[K]);}},arrayIndexOf:function(I,K){if(typeof Array.prototype.indexOf=="function"){return Array.prototype.indexOf.call(I,K);}for(var J=0,L=I.length;J<L;J++){if(I[J]===K){return J;}}return -1;},arrayFirst:function(I,L,M){for(var J=0,K=I.length;J<K;J++){if(L.call(M,I[J])){return I[J];}}return null;},arrayRemoveItem:function(I,K){var J=m.utils.arrayIndexOf(I,K);if(J>=0){I.splice(J,1);}},arrayGetDistinctValues:function(I){I=I||[];var L=[];for(var J=0,K=I.length;J<K;J++){if(m.utils.arrayIndexOf(L,I[J])<0){L.push(I[J]);}}return L;},arrayMap:function(I,L){I=I||[];var M=[];for(var J=0,K=I.length;J<K;J++){M.push(L(I[J]));}return M;},arrayFilter:function(I,L){I=I||[];var M=[];for(var J=0,K=I.length;J<K;J++){if(L(I[J])){M.push(I[J]);}}return M;},arrayPushAll:function(I,L){if(L instanceof Array){I.push.apply(I,L);}else{for(var J=0,K=L.length;J<K;J++){I.push(L[J]);}}return I;},extend:function(K,J){if(J){for(var I in J){if(J.hasOwnProperty(I)){K[I]=J[I];}}}return K;},emptyDomNode:function(I){while(I.firstChild){m.removeNode(I.firstChild);}},moveCleanedNodesToContainerElement:function(L){var M=m.utils.makeArray(L);var I=b.createElement("div");for(var J=0,K=M.length;J<K;J++){I.appendChild(m.cleanNode(M[J]));}return I;},cloneNodes:function(M,N){for(var J=0,K=M.length,L=[];J<K;J++){var I=M[J].cloneNode(true);L.push(N?m.cleanNode(I):I);}return L;},setDomNodeChildren:function(J,I){m.utils.emptyDomNode(J);if(I){for(var K=0,L=I.length;K<L;K++){J.appendChild(I[K]);}}},replaceDomNodes:function(N,L){var M=N.nodeType?[N]:N;if(M.length>0){var J=M[0];var O=J.parentNode;for(var I=0,K=L.length;I<K;I++){O.insertBefore(L[I],J);}for(var I=0,K=M.length;I<K;I++){m.removeNode(M[I]);}}},setOptionNodeSelectionState:function(J,I){if(y<7){J.setAttribute("selected",I);}else{J.selected=I;}},stringTrim:function(I){return(I||"").replace(H,"");},stringTokenize:function(M,I){var L=[];var N=(M||"").split(I);for(var J=0,K=N.length;J<K;J++){var O=m.utils.stringTrim(N[J]);if(O!==""){L.push(O);}}return L;},stringStartsWith:function(J,I){J=J||"";if(I.length>J.length){return false;}return J.substring(0,I.length)===I;},domNodeIsContainedBy:function(J,I){if(I.compareDocumentPosition){return(I.compareDocumentPosition(J)&16)==16;}while(J!=null){if(J==I){return true;}J=J.parentNode;}return false;},domNodeIsAttachedToDocument:function(I){return m.utils.domNodeIsContainedBy(I,I.ownerDocument);},tagNameLower:function(I){return I&&I.tagName&&I.tagName.toLowerCase();},registerEventHandler:function(I,J,K){var L=y&&v[J];if(!L&&typeof c!="undefined"){if(z(I,J)){var M=K;K=function(N,O){var P=this.checked;if(O){this.checked=O.checkedStateBeforeEvent!==true;}M.call(this,N);this.checked=P;};}c(I)["bind"](J,K);}else{if(!L&&typeof I.addEventListener=="function"){I.addEventListener(J,K,false);}else{if(typeof I.attachEvent!="undefined"){I.attachEvent("on"+J,function(N){K.call(I,N);});}else{throw new Error("Browser doesn't support addEventListener or attachEvent");}}}},triggerEvent:function(I,M){if(!(I&&I.nodeType)){throw new Error("element must be a DOM node when calling triggerEvent");}if(typeof c!="undefined"){var L=[];if(z(I,M)){L.push({checkedStateBeforeEvent:I.checked});}c(I)["trigger"](M,L);}else{if(typeof b.createEvent=="function"){if(typeof I.dispatchEvent=="function"){var K=G[M]||"HTMLEvents";var J=b.createEvent(K);J.initEvent(M,true,true,f,0,0,0,0,0,false,false,false,false,0,I);I.dispatchEvent(J);}else{throw new Error("The supplied element doesn't support dispatchEvent");}}else{if(typeof I.fireEvent!="undefined"){if(z(I,M)){I.checked=I.checked!==true;}I.fireEvent("on"+M);}else{throw new Error("Browser doesn't support triggering events");}}}},unwrapObservable:function(I){return m.isObservable(I)?I():I;},peekObservable:function(I){return m.isObservable(I)?I.peek():I;},toggleDomNodeCssClass:function(L,I,M){if(I){var J=/[\w-]+/g,K=L.className.match(J)||[];m.utils.arrayForEach(I.match(J),function(N){var O=m.utils.arrayIndexOf(K,N);if(O>=0){if(!M){K.splice(O,1);}}else{if(M){K.push(N);}}});L.className=K.join(" ");}},setTextContent:function(I,K){var L=m.utils.unwrapObservable(K);if((L===null)||(L===e)){L="";}if(I.nodeType===3){I.data=L;}else{var J=m.virtualElements.firstChild(I);if(!J||J.nodeType!=3||m.virtualElements.nextSibling(J)){m.virtualElements.setDomNodeChildren(I,[b.createTextNode(L)]);}else{J.data=L;}m.utils.forceRefresh(I);}},setElementName:function(J,K){J.name=K;if(y<=7){try{J.mergeAttributes(b.createElement("<input name='"+J.name+"'/>"),false);}catch(I){}}},forceRefresh:function(J){if(y>=9){var I=J.nodeType==1?J:J.parentNode;if(I.style){I.style.zoom=I.style.zoom;}}},ensureSelectElementIsRenderedCorrectly:function(J){if(y>=9){var I=J.style.width;J.style.width=0;J.style.width=I;}},range:function(K,J){K=m.utils.unwrapObservable(K);J=m.utils.unwrapObservable(J);var L=[];for(var I=K;I<=J;I++){L.push(I);}return L;},makeArray:function(I){var L=[];for(var J=0,K=I.length;J<K;J++){L.push(I[J]);}return L;},isIe6:A,isIe7:B,ieVersion:y,getFormFields:function(K,I){var J=m.utils.makeArray(K.getElementsByTagName("input")).concat(m.utils.makeArray(K.getElementsByTagName("textarea")));var M=(typeof I=="string")?function(O){return O.name===I;}:function(O){return I.test(O.name);};var N=[];for(var L=J.length-1;L>=0;L--){if(M(J[L])){N.push(J[L]);}}return N;},parseJson:function(I){if(typeof I=="string"){I=m.utils.stringTrim(I);if(I){if(f.JSON&&f.JSON.parse){return f.JSON.parse(I);}return(new Function("return "+I))();}}return null;},stringifyJson:function(I,J,K){if((typeof JSON=="undefined")||(typeof JSON.stringify=="undefined")){throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");}return JSON.stringify(m.utils.unwrapObservable(I),J,K);},postJson:function(U,I,Q){Q=Q||{};var S=Q.params||{};var M=Q.includeFields||this.fieldsIncludedWithJsonPost;var T=U;if((typeof U=="object")&&(m.utils.tagNameLower(U)==="form")){var R=U;T=R.action;for(var L=M.length-1;L>=0;L--){var J=m.utils.getFormFields(R,M[L]);for(var O=J.length-1;O>=0;O--){S[J[O].name]=J[O].value;}}}I=m.utils.unwrapObservable(I);var K=b.createElement("form");K.style.display="none";K.action=T;K.method="post";for(var P in I){var N=b.createElement("input");N.name=P;N.value=m.utils.stringifyJson(m.utils.unwrapObservable(I[P]));K.appendChild(N);}for(var P in S){var N=b.createElement("input");N.name=P;N.value=S[P];K.appendChild(N);}b.body.appendChild(K);Q.submitter?Q.submitter(K):K.submit();setTimeout(function(){K.parentNode.removeChild(K);},0);}};})();m.exportSymbol("utils",m.utils);m.exportSymbol("utils.arrayForEach",m.utils.arrayForEach);m.exportSymbol("utils.arrayFirst",m.utils.arrayFirst);m.exportSymbol("utils.arrayFilter",m.utils.arrayFilter);m.exportSymbol("utils.arrayGetDistinctValues",m.utils.arrayGetDistinctValues);m.exportSymbol("utils.arrayIndexOf",m.utils.arrayIndexOf);m.exportSymbol("utils.arrayMap",m.utils.arrayMap);m.exportSymbol("utils.arrayPushAll",m.utils.arrayPushAll);m.exportSymbol("utils.arrayRemoveItem",m.utils.arrayRemoveItem);m.exportSymbol("utils.extend",m.utils.extend);m.exportSymbol("utils.fieldsIncludedWithJsonPost",m.utils.fieldsIncludedWithJsonPost);m.exportSymbol("utils.getFormFields",m.utils.getFormFields);m.exportSymbol("utils.peekObservable",m.utils.peekObservable);m.exportSymbol("utils.postJson",m.utils.postJson);m.exportSymbol("utils.parseJson",m.utils.parseJson);m.exportSymbol("utils.registerEventHandler",m.utils.registerEventHandler);m.exportSymbol("utils.stringifyJson",m.utils.stringifyJson);m.exportSymbol("utils.range",m.utils.range);m.exportSymbol("utils.toggleDomNodeCssClass",m.utils.toggleDomNodeCssClass);m.exportSymbol("utils.triggerEvent",m.utils.triggerEvent);m.exportSymbol("utils.unwrapObservable",m.utils.unwrapObservable);if(!Function.prototype.bind){Function.prototype.bind=function(w){var x=this,v=Array.prototype.slice.call(arguments),w=v.shift();return function(){return x.apply(w,v.concat(Array.prototype.slice.call(arguments)));};};}m.utils.domData=new (function(){var x=0;var w="__ko__"+(new Date).getTime();var v={};return{get:function(A,z){var y=m.utils.domData.getAll(A,false);return y===e?e:y[z];},set:function(A,z,B){if(B===e){if(m.utils.domData.getAll(A,false)===e){return;}}var y=m.utils.domData.getAll(A,true);y[z]=B;},getAll:function(B,y){var z=B[w];var A=z&&(z!=="null")&&v[z];if(!A){if(!y){return e;}z=B[w]="ko"+x++;v[z]={};}return v[z];},clear:function(z){var y=z[w];if(y){delete v[y];z[w]=null;return true;}return false;}};})();m.exportSymbol("utils.domData",m.utils.domData);m.exportSymbol("utils.domData.clear",m.utils.domData.clear);m.utils.domNodeDisposal=new (function(){var A="__ko_domNodeDisposal__"+(new Date).getTime();var v={1:true,8:true,9:true};var w={1:true,9:true};function B(E,D){var C=m.utils.domData.get(E,A);if((C===e)&&D){C=[];m.utils.domData.set(E,A,C);}return C;}function z(C){m.utils.domData.set(C,A,e);}function y(E){var C=B(E,false);if(C){C=C.slice(0);for(var D=0;D<C.length;D++){C[D](E);}}m.utils.domData.clear(E);if((typeof c=="function")&&(typeof c.cleanData=="function")){c.cleanData([E]);}if(w[E.nodeType]){x(E);}}function x(E){var C,D=E.firstChild;while(C=D){D=C.nextSibling;if(C.nodeType===8){y(C);}}}return{addDisposeCallback:function(D,C){if(typeof C!="function"){throw new Error("Callback must be a function");}B(D,true).push(C);},removeDisposeCallback:function(E,C){var D=B(E,false);if(D){m.utils.arrayRemoveItem(D,C);if(D.length==0){z(E);}}},cleanNode:function(F){if(v[F.nodeType]){y(F);if(w[F.nodeType]){var C=[];m.utils.arrayPushAll(C,F.getElementsByTagName("*"));for(var D=0,E=C.length;D<E;D++){y(C[D]);}}}return F;},removeNode:function(C){m.cleanNode(C);if(C.parentNode){C.parentNode.removeChild(C);}}};})();m.cleanNode=m.utils.domNodeDisposal.cleanNode;m.removeNode=m.utils.domNodeDisposal.removeNode;m.exportSymbol("cleanNode",m.cleanNode);m.exportSymbol("removeNode",m.removeNode);m.exportSymbol("utils.domNodeDisposal",m.utils.domNodeDisposal);m.exportSymbol("utils.domNodeDisposal.addDisposeCallback",m.utils.domNodeDisposal.addDisposeCallback);m.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",m.utils.domNodeDisposal.removeDisposeCallback);(function(){var w=/^(\s*)<!--(.*?)-->/;function x(z){var B=m.utils.stringTrim(z).toLowerCase(),y=b.createElement("div");var C=B.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!B.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!B.indexOf("<td")||!B.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];var A="ignored<div>"+C[1]+z+C[2]+"</div>";if(typeof f.innerShiv=="function"){y.appendChild(f.innerShiv(A));}else{y.innerHTML=A;}while(C[0]--){y=y.lastChild;}return m.utils.makeArray(y.lastChild.childNodes);}function v(A){if(c.parseHTML){return c.parseHTML(A);}else{var z=c.clean([A]);if(z&&z[0]){var y=z[0];while(y.parentNode&&y.parentNode.nodeType!==11){y=y.parentNode;}if(y.parentNode){y.parentNode.removeChild(y);}}return z;}}m.utils.parseHtmlFragment=function(y){return typeof c!="undefined"?v(y):x(y);};m.utils.setHtml=function(A,y){m.utils.emptyDomNode(A);y=m.utils.unwrapObservable(y);if((y!==null)&&(y!==e)){if(typeof y!="string"){y=y.toString();}if(typeof c!="undefined"){c(A)["html"](y);}else{var B=m.utils.parseHtmlFragment(y);for(var z=0;z<B.length;z++){A.appendChild(B[z]);}}}};})();m.exportSymbol("utils.parseHtmlFragment",m.utils.parseHtmlFragment);m.exportSymbol("utils.setHtml",m.utils.setHtml);m.memoization=(function(){var x={};function y(){return(((1+Math.random())*4294967296)|0).toString(16).substring(1);}function w(){return y()+y();}function v(E,z){if(!E){return;}if(E.nodeType==8){var D=m.memoization.parseMemoText(E.nodeValue);if(D!=null){z.push({domNode:E,memoId:D});}}else{if(E.nodeType==1){for(var B=0,A=E.childNodes,C=A.length;B<C;B++){v(A[B],z);}}}}return{memoize:function(z){if(typeof z!="function"){throw new Error("You can only pass a function to ko.memoization.memoize()");}var A=w();x[A]=z;return"<!--[ko_memo:"+A+"]-->";},unmemoize:function(B,A){var z=x[B];if(z===e){throw new Error("Couldn't find any memo with ID "+B+". Perhaps it's already been unmemoized.");}try{z.apply(null,A||[]);return true;}finally{delete x[B];}},unmemoizeDomNodeAndDescendants:function(A,B){var E=[];v(A,E);for(var C=0,D=E.length;C<D;C++){var F=E[C].domNode;var z=[F];if(B){m.utils.arrayPushAll(z,B);}m.memoization.unmemoize(E[C].memoId,z);F.nodeValue="";if(F.parentNode){F.parentNode.removeChild(F);}}},parseMemoText:function(A){var z=A.match(/^\[ko_memo\:(.*?)\]$/);return z?z[1]:null;}};})();m.exportSymbol("memoization",m.memoization);m.exportSymbol("memoization.memoize",m.memoization.memoize);m.exportSymbol("memoization.unmemoize",m.memoization.unmemoize);m.exportSymbol("memoization.parseMemoText",m.memoization.parseMemoText);m.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",m.memoization.unmemoizeDomNodeAndDescendants);m.extenders={throttle:function(v,w){v.throttleEvaluation=w;var x=null;return m.dependentObservable({read:v,write:function(y){clearTimeout(x);x=setTimeout(function(){v(y);},w);}});},notify:function(w,v){w.equalityComparer=v=="always"?function(){return false;}:m.observable.fn["equalityComparer"];return w;}};function g(x){var y=this;if(x){for(var w in x){var v=m.extenders[w];if(typeof v=="function"){y=v(y,x[w]);}}}return y;}m.exportSymbol("extenders",m.extenders);m.subscription=function(x,v,w){this.target=x;this.callback=v;this.disposeCallback=w;m.exportProperty(this,"dispose",this.dispose);};m.subscription.prototype.dispose=function(){this.isDisposed=true;this.disposeCallback();};m.subscribable=function(){this._subscriptions={};m.utils.extend(this,m.subscribable.fn);m.exportProperty(this,"subscribe",this.subscribe);m.exportProperty(this,"extend",this.extend);m.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount);};var j="change";m.subscribable.fn={subscribe:function(w,x,y){y=y||j;var v=x?w.bind(x):w;var z=new m.subscription(this,v,function(){m.utils.arrayRemoveItem(this._subscriptions[y],z);}.bind(this));if(!this._subscriptions[y]){this._subscriptions[y]=[];}this._subscriptions[y].push(z);return z;},notifySubscribers:function(w,v){v=v||j;if(this._subscriptions[v]){m.dependencyDetection.ignore(function(){m.utils.arrayForEach(this._subscriptions[v].slice(0),function(x){if(x&&(x.isDisposed!==true)){x.callback(w);}});},this);}},getSubscriptionsCount:function(){var w=0;for(var v in this._subscriptions){if(this._subscriptions.hasOwnProperty(v)){w+=this._subscriptions[v].length;}}return w;},extend:g};m.isSubscribable=function(v){return typeof v.subscribe=="function"&&typeof v.notifySubscribers=="function";};m.exportSymbol("subscribable",m.subscribable);m.exportSymbol("isSubscribable",m.isSubscribable);m.dependencyDetection=(function(){var v=[];return{begin:function(w){v.push({callback:w,distinctDependencies:[]});},end:function(){v.pop();},registerDependency:function(w){if(!m.isSubscribable(w)){throw new Error("Only subscribable things can act as dependencies");}if(v.length>0){var x=v[v.length-1];if(!x||m.utils.arrayIndexOf(x.distinctDependencies,w)>=0){return;}x.distinctDependencies.push(w);x.callback(w);}},ignore:function(w,y,x){try{v.push(null);return w.apply(y,x||[]);}finally{v.pop();}}};})();var q={"undefined":true,"boolean":true,number:true,string:true};m.observable=function(w){var v=w;function x(){if(arguments.length>0){if((!x.equalityComparer)||!x.equalityComparer(v,arguments[0])){x.valueWillMutate();v=arguments[0];if(a){x._latestValue=v;}x.valueHasMutated();}return this;}else{m.dependencyDetection.registerDependency(x);return v;}}if(a){x._latestValue=v;}m.subscribable.call(x);x.peek=function(){return v;};x.valueHasMutated=function(){x.notifySubscribers(v);};x.valueWillMutate=function(){x.notifySubscribers(v,"beforeChange");};m.utils.extend(x,m.observable.fn);m.exportProperty(x,"peek",x.peek);m.exportProperty(x,"valueHasMutated",x.valueHasMutated);m.exportProperty(x,"valueWillMutate",x.valueWillMutate);return x;};m.observable.fn={equalityComparer:function t(v,w){var x=(v===null)||(typeof(v) in q);return x?(v===w):false;}};var s=m.observable.protoProperty="__ko_proto__";m.observable.fn[s]=m.observable;m.hasPrototype=function(v,w){if((v===null)||(v===e)||(v[s]===e)){return false;}if(v[s]===w){return true;}return m.hasPrototype(v[s],w);};m.isObservable=function(v){return m.hasPrototype(v,m.observable);};m.isWriteableObservable=function(v){if((typeof v=="function")&&v[s]===m.observable){return true;}if((typeof v=="function")&&(v[s]===m.dependentObservable)&&(v.hasWriteFunction)){return true;}return false;};m.exportSymbol("observable",m.observable);m.exportSymbol("isObservable",m.isObservable);m.exportSymbol("isWriteableObservable",m.isWriteableObservable);m.observableArray=function(v){if(arguments.length==0){v=[];}if((v!==null)&&(v!==e)&&!("length" in v)){throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");}var w=m.observable(v);m.utils.extend(w,m.observableArray.fn);return w;};m.observableArray.fn={remove:function(A){var y=this.peek();var x=[];var w=typeof A=="function"?A:function(B){return B===A;};for(var v=0;v<y.length;v++){var z=y[v];if(w(z)){if(x.length===0){this.valueWillMutate();}x.push(z);y.splice(v,1);v--;}}if(x.length){this.valueHasMutated();}return x;},removeAll:function(w){if(w===e){var x=this.peek();var v=x.slice(0);this.valueWillMutate();x.splice(0,x.length);this.valueHasMutated();return v;}if(!w){return[];}return this["remove"](function(y){return m.utils.arrayIndexOf(w,y)>=0;});},destroy:function(z){var x=this.peek();var w=typeof z=="function"?z:function(A){return A===z;};this.valueWillMutate();for(var v=x.length-1;v>=0;v--){var y=x[v];if(w(y)){x[v]["_destroy"]=true;}}this.valueHasMutated();},destroyAll:function(v){if(v===e){return this["destroy"](function(){return true;});}if(!v){return[];}return this["destroy"](function(w){return m.utils.arrayIndexOf(v,w)>=0;});},indexOf:function(v){var w=this();return m.utils.arrayIndexOf(w,v);},replace:function(x,w){var v=this["indexOf"](x);if(v>=0){this.valueWillMutate();this.peek()[v]=w;this.valueHasMutated();}}};m.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(v){m.observableArray.fn[v]=function(){var x=this.peek();this.valueWillMutate();var w=x[v].apply(x,arguments);this.valueHasMutated();return w;};});m.utils.arrayForEach(["slice"],function(v){m.observableArray.fn[v]=function(){var w=this();return w[v].apply(w,arguments);};});m.exportSymbol("observableArray",m.observableArray);m.dependentObservable=function(I,J,M){var x,v=false,w=false,O=I;if(O&&typeof O=="object"){M=O;O=M.read;}else{M=M||{};if(!O){O=M.read;}}if(typeof O!="function"){throw new Error("Pass a function that returns the value of the ko.computed");}function z(Q){y.push(Q.subscribe(G));}function C(){m.utils.arrayForEach(y,function(Q){Q.dispose();});y=[];}function G(){var Q=A.throttleEvaluation;if(Q&&Q>=0){clearTimeout(H);H=setTimeout(F,Q);}else{F();}}function F(){if(w){return;}if(v&&D()){B();return;}w=true;try{var Q=m.utils.arrayMap(y,function(T){return T.target;});m.dependencyDetection.begin(function(U){var T;if((T=m.utils.arrayIndexOf(Q,U))>=0){Q[T]=e;}else{z(U);}});var S=O.call(J);for(var R=Q.length-1;R>=0;R--){if(Q[R]){y.splice(R,1)[0].dispose();}}v=true;A.notifySubscribers(x,"beforeChange");x=S;if(a){A._latestValue=x;}}finally{m.dependencyDetection.end();}A.notifySubscribers(x);w=false;if(!y.length){B();}}function A(){if(arguments.length>0){if(typeof P==="function"){P.apply(J,arguments);}else{throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");}return this;}else{if(!v){F();}m.dependencyDetection.registerDependency(A);return x;}}function N(){if(!v){F();}return x;}function L(){return !v||y.length>0;}var P=M.write,E=M.disposeWhenNodeIsRemoved||M.disposeWhenNodeIsRemoved||null,D=M.disposeWhen||M.disposeWhen||function(){return false;},B=C,y=[],H=null;if(!J){J=M.owner;}A.peek=N;A.getDependenciesCount=function(){return y.length;};A.hasWriteFunction=typeof M.write==="function";A.dispose=function(){B();};A.isActive=L;m.subscribable.call(A);m.utils.extend(A,m.dependentObservable.fn);m.exportProperty(A,"peek",A.peek);m.exportProperty(A,"dispose",A.dispose);m.exportProperty(A,"isActive",A.isActive);m.exportProperty(A,"getDependenciesCount",A.getDependenciesCount);if(M.deferEvaluation!==true){F();}if(E&&L()){B=function(){m.utils.domNodeDisposal.removeDisposeCallback(E,arguments.callee);C();};m.utils.domNodeDisposal.addDisposeCallback(E,B);var K=D;D=function(){return !m.utils.domNodeIsAttachedToDocument(E)||K();};}return A;};m.isComputed=function(v){return m.hasPrototype(v,m.dependentObservable);};var r=m.observable.protoProperty;m.dependentObservable[r]=m.observable;m.dependentObservable.fn={};m.dependentObservable.fn[r]=m.dependentObservable;m.exportSymbol("dependentObservable",m.dependentObservable);m.exportSymbol("computed",m.dependentObservable);m.exportSymbol("isComputed",m.isComputed);(function(){var w=10;m.toJS=function(z){if(arguments.length==0){throw new Error("When calling ko.toJS, pass the object you want to convert.");}return v(z,function(B){for(var A=0;m.isObservable(B)&&(A<w);A++){B=B();}return B;});};m.toJSON=function(B,A,C){var z=m.toJS(B);return m.utils.stringifyJson(z,A,C);};function v(C,A,D){D=D||new x();C=A(C);var z=(typeof C=="object")&&(C!==null)&&(C!==e)&&(!(C instanceof Date));if(!z){return C;}var B=C instanceof Array?[]:{};D.save(C,B);y(C,function(E){var G=A(C[E]);switch(typeof G){case"boolean":case"number":case"string":case"function":B[E]=G;break;case"object":case"undefined":var F=D.get(G);B[E]=(F!==e)?F:v(G,A,D);break;}});return B;}function y(B,C){if(B instanceof Array){for(var z=0;z<B.length;z++){C(z);}if(typeof B.toJSON=="function"){C("toJSON");}}else{for(var A in B){C(A);}}}function x(){var z=[];var A=[];this.save=function(C,D){var B=m.utils.arrayIndexOf(z,C);if(B>=0){A[B]=D;}else{z.push(C);A.push(D);}};this.get=function(C){var B=m.utils.arrayIndexOf(z,C);return(B>=0)?A[B]:e;};}})();m.exportSymbol("toJS",m.toJS);m.exportSymbol("toJSON",m.toJSON);(function(){var v="__ko__hasDomDataOptionValue__";m.selectExtensions={readValue:function(w){switch(m.utils.tagNameLower(w)){case"option":if(w[v]===true){return m.utils.domData.get(w,m.bindingHandlers.options.optionValueDomDataKey);}return m.utils.ieVersion<=7?(w.getAttributeNode("value").specified?w.value:w.text):w.value;case"select":return w.selectedIndex>=0?m.selectExtensions.readValue(w.options[w.selectedIndex]):e;default:return w.value;}},writeValue:function(w,y){switch(m.utils.tagNameLower(w)){case"option":switch(typeof y){case"string":m.utils.domData.set(w,m.bindingHandlers.options.optionValueDomDataKey,e);if(v in w){delete w[v];}w.value=y;break;default:m.utils.domData.set(w,m.bindingHandlers.options.optionValueDomDataKey,y);w[v]=true;w.value=typeof y==="number"?y:"";break;}break;case"select":for(var x=w.options.length-1;x>=0;x--){if(m.selectExtensions.readValue(w.options[x])==y){w.selectedIndex=x;break;}}break;default:if((y===null)||(y===e)){y="";}w.value=y;break;}}};})();m.exportSymbol("selectExtensions",m.selectExtensions);m.exportSymbol("selectExtensions.readValue",m.selectExtensions.readValue);m.exportSymbol("selectExtensions.writeValue",m.selectExtensions.writeValue);m.expressionRewriting=(function(){var z=/\@ko_token_(\d+)\@/g;var y=["true","false"];var x=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;function A(C,D){var B=null;while(C!=B){B=C;C=C.replace(z,function(E,F){return D[F];});}return C;}function w(B){if(m.utils.arrayIndexOf(y,m.utils.stringTrim(B).toLowerCase())>=0){return false;}var C=B.match(x);return C===null?false:C[1]?("Object("+C[1]+")"+C[2]):B;}function v(B){var C=m.utils.stringTrim(B);switch(C.length&&C.charAt(0)){case"'":case'"':return B;default:return"'"+C+"'";}}return{bindingRewriteValidators:[],parseObjectLiteral:function(H){var M=m.utils.stringTrim(H);if(M.length<3){return[];}if(M.charAt(0)==="{"){M=M.substring(1,M.length-1);}var Q=[];var R=null,P;for(var J=0;J<M.length;J++){var B=M.charAt(J);if(R===null){switch(B){case'"':case"'":case"/":R=J;P=B;break;}}else{if((B==P)&&(M.charAt(J-1)!=="\\")){var N=M.substring(R,J+1);Q.push(N);var K="@ko_token_"+(Q.length-1)+"@";M=M.substring(0,R)+K+M.substring(J+1);J-=(N.length-K.length);R=null;}}}R=null;P=null;var O=0,S=null;for(var J=0;J<M.length;J++){var B=M.charAt(J);if(R===null){switch(B){case"{":R=J;S=B;P="}";break;case"(":R=J;S=B;P=")";break;case"[":R=J;S=B;P="]";break;}}if(B===S){O++;}else{if(B===P){O--;if(O===0){var N=M.substring(R,J+1);Q.push(N);var K="@ko_token_"+(Q.length-1)+"@";M=M.substring(0,R)+K+M.substring(J+1);J-=(N.length-K.length);R=null;}}}}var L=[];var G=M.split(",");for(var D=0,E=G.length;D<E;D++){var I=G[D];var C=I.indexOf(":");if((C>0)&&(C<I.length-1)){var F=I.substring(0,C);var T=I.substring(C+1);L.push({key:A(F,Q),value:A(T,Q)});}else{L.push({unknown:A(I,Q)});}}return L;},preProcessBindings:function(G){var E=typeof G==="string"?m.expressionRewriting.parseObjectLiteral(G):G;var J=[],H=[];var F;for(var D=0;F=E[D];D++){if(J.length>0){J.push(",");}if(F.key){var I=v(F.key),K=F.value;J.push(I);J.push(":");J.push(K);if(K=w(m.utils.stringTrim(K))){if(H.length>0){H.push(", ");}H.push(I+" : function(__ko_value) { "+K+" = __ko_value; }");}}else{if(F.unknown){J.push(F.unknown);}}}var C=J.join("");if(H.length>0){var B=H.join("");C=C+", '_ko_property_writers' : { "+B+" } ";}return C;},keyValueArrayContainsKey:function(D,C){for(var B=0;B<D.length;B++){if(m.utils.stringTrim(D[B]["key"])==C){return true;}}return false;},writeValueToProperty:function(E,B,D,G,C){if(!E||!m.isWriteableObservable(E)){var F=B()["_ko_property_writers"];if(F&&F[D]){F[D](G);}}else{if(!C||E.peek()!==G){E(G);}}}};})();m.exportSymbol("expressionRewriting",m.expressionRewriting);m.exportSymbol("expressionRewriting.bindingRewriteValidators",m.expressionRewriting.bindingRewriteValidators);m.exportSymbol("expressionRewriting.parseObjectLiteral",m.expressionRewriting.parseObjectLiteral);m.exportSymbol("expressionRewriting.preProcessBindings",m.expressionRewriting.preProcessBindings);m.exportSymbol("jsonExpressionRewriting",m.expressionRewriting);m.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",m.expressionRewriting.preProcessBindings);(function(){var v=b.createComment("test").text==="<!--test-->";var D=v?/^<!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*-->$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/;var w=v?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/;var A={ul:true,ol:true};function C(E){return(E.nodeType==8)&&(v?E.text:E.nodeValue).match(D);}function B(E){return(E.nodeType==8)&&(v?E.text:E.nodeValue).match(w);}function z(I,E){var G=I;var H=1;var F=[];while(G=G.nextSibling){if(B(G)){H--;if(H===0){return F;}}F.push(G);if(C(G)){H++;}}if(!E){throw new Error("Cannot find closing comment tag to match: "+I.nodeValue);}return null;}function x(G,E){var F=z(G,E);if(F){if(F.length>0){return F[F.length-1].nextSibling;}return G.nextSibling;}else{return null;}}function y(H){var F=H.firstChild,E=null;if(F){do{if(E){E.push(F);}else{if(C(F)){var G=x(F,true);if(G){F=G;}else{E=[F];}}else{if(B(F)){E=[F];}}}}while(F=F.nextSibling);}return E;}m.virtualElements={allowedBindings:{},childNodes:function(E){return C(E)?z(E):E.childNodes;},emptyNode:function(G){if(!C(G)){m.utils.emptyDomNode(G);}else{var H=m.virtualElements.childNodes(G);for(var E=0,F=H.length;E<F;E++){m.removeNode(H[E]);}}},setDomNodeChildren:function(I,E){if(!C(I)){m.utils.setDomNodeChildren(I,E);}else{m.virtualElements.emptyNode(I);var F=I.nextSibling;for(var G=0,H=E.length;G<H;G++){F.parentNode.insertBefore(E[G],F);}}},prepend:function(E,F){if(!C(E)){if(E.firstChild){E.insertBefore(F,E.firstChild);}else{E.appendChild(F);}}else{E.parentNode.insertBefore(F,E.nextSibling);}},insertAfter:function(E,G,F){if(!F){m.virtualElements.prepend(E,G);}else{if(!C(E)){if(F.nextSibling){E.insertBefore(G,F.nextSibling);}else{E.appendChild(G);}}else{E.parentNode.insertBefore(G,F.nextSibling);}}},firstChild:function(E){if(!C(E)){return E.firstChild;}if(!E.nextSibling||B(E.nextSibling)){return null;}return E.nextSibling;},nextSibling:function(E){if(C(E)){E=x(E);}if(E.nextSibling&&B(E.nextSibling)){return null;}return E.nextSibling;},virtualNodeBindingValue:function(E){var F=C(E);return F?F[1]:null;},normaliseVirtualElementDomStructure:function(F){if(!A[m.utils.tagNameLower(F)]){return;}var E=F.firstChild;if(E){do{if(E.nodeType===1){var I=y(E);if(I){var H=E.nextSibling;for(var G=0;G<I.length;G++){if(H){F.insertBefore(I[G],H);}else{F.appendChild(I[G]);}}}}}while(E=E.nextSibling);}}};})();m.exportSymbol("virtualElements",m.virtualElements);m.exportSymbol("virtualElements.allowedBindings",m.virtualElements.allowedBindings);m.exportSymbol("virtualElements.emptyNode",m.virtualElements.emptyNode);m.exportSymbol("virtualElements.insertAfter",m.virtualElements.insertAfter);m.exportSymbol("virtualElements.prepend",m.virtualElements.prepend);m.exportSymbol("virtualElements.setDomNodeChildren",m.virtualElements.setDomNodeChildren);(function(){var x="data-bind";m.bindingProvider=function(){this.bindingCache={};};m.utils.extend(m.bindingProvider.prototype,{nodeHasBindings:function(y){switch(y.nodeType){case 1:return y.getAttribute(x)!=null;case 8:return m.virtualElements.virtualNodeBindingValue(y)!=null;default:return false;}},getBindings:function(A,y){var z=this["getBindingsString"](A,y);return z?this["parseBindingsString"](z,y,A):null;},getBindingsString:function(z,y){switch(z.nodeType){case 1:return z.getAttribute(x);case 8:return m.virtualElements.virtualNodeBindingValue(z);default:return null;}},parseBindingsString:function(A,y,C){try{var z=w(A,this.bindingCache);return z(y,C);}catch(B){throw new Error("Unable to parse bindings.\nMessage: "+B+";\nBindings value: "+A);}}});m.bindingProvider.instance=new m.bindingProvider();function w(y,z){var A=y;return z[A]||(z[A]=v(y));}function v(y){var A=m.expressionRewriting.preProcessBindings(y),z="with($context){with($data||{}){return{"+A+"}}}";return new Function("$context","$element",z);}})();m.exportSymbol("bindingProvider",m.bindingProvider);(function(){m.bindingHandlers={};m.bindingContext=function(A,C,B){if(C){m.utils.extend(this,C);this["$parentContext"]=C;this["$parent"]=C["$data"];this["$parents"]=(C["$parents"]||[]).slice(0);this["$parents"].unshift(this["$parent"]);}else{this["$parents"]=[];this["$root"]=A;this["ko"]=m;}this["$data"]=A;if(B){this[B]=A;}};m.bindingContext.prototype.createChildContext=function(A,B){return new m.bindingContext(A,this,B);};m.bindingContext.prototype.extend=function(B){var A=m.utils.extend(new m.bindingContext(),this);return m.utils.extend(A,B);};function z(A){var B=m.virtualElements.allowedBindings[A];if(!B){throw new Error("The binding '"+A+"' cannot be used with virtual elements");}}function v(E,C,A){var B,D=m.virtualElements.firstChild(C);while(B=D){D=m.virtualElements.nextSibling(B);w(E,B,A);}}function w(F,C,A){var E=true;var B=(C.nodeType===1);if(B){m.virtualElements.normaliseVirtualElementDomStructure(C);}var D=(B&&A)||m.bindingProvider.instance["nodeHasBindings"](C);if(D){E=x(C,null,F,A).shouldBindDescendants;}if(E){v(F,C,!B);}}function x(F,C,I,A){var D=0;var G;function E(J){return function(){return G[J];};}function H(){return G;}var B;m.dependentObservable(function(){var K=I&&(I instanceof m.bindingContext)?I:new m.bindingContext(m.utils.unwrapObservable(I));var Q=K["$data"];if(A){m.storedBindingContextForNode(F,K);}var M=(typeof C=="function")?C(K,F):C;G=M||m.bindingProvider.instance["getBindings"](F,K);if(G){if(D===0){D=1;for(var L in G){var J=m.bindingHandlers[L];if(J&&F.nodeType===8){z(L);}if(J&&typeof J.init=="function"){var N=J.init;var P=N(F,E(L),H,Q,K);if(P&&P.controlsDescendantBindings){if(B!==e){throw new Error("Multiple bindings ("+B+" and "+L+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");}B=L;}}}D=2;}if(D===2){for(var L in G){var J=m.bindingHandlers[L];if(J&&typeof J.update=="function"){var O=J.update;O(F,E(L),H,Q,K);}}}}},null,{disposeWhenNodeIsRemoved:F});return{shouldBindDescendants:B===e};}var y="__ko_bindingContext__";m.storedBindingContextForNode=function(B,A){if(arguments.length==2){m.utils.domData.set(B,y,A);}else{return m.utils.domData.get(B,y);}};m.applyBindingsToNode=function(B,A,C){if(B.nodeType===1){m.virtualElements.normaliseVirtualElementDomStructure(B);}return x(B,A,C,true);};m.applyBindingsToDescendants=function(B,A){if(A.nodeType===1||A.nodeType===8){v(B,A,true);}};m.applyBindings=function(B,A){if(A&&(A.nodeType!==1)&&(A.nodeType!==8)){throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");}A=A||f.document.body;w(B,A,true);};m.contextFor=function(B){switch(B.nodeType){case 1:case 8:var A=m.storedBindingContextForNode(B);if(A){return A;}if(B.parentNode){return m.contextFor(B.parentNode);}break;}return e;};m.dataFor=function(B){var A=m.contextFor(B);return A?A["$data"]:e;};m.exportSymbol("bindingHandlers",m.bindingHandlers);m.exportSymbol("applyBindings",m.applyBindings);m.exportSymbol("applyBindingsToDescendants",m.applyBindingsToDescendants);m.exportSymbol("applyBindingsToNode",m.applyBindingsToNode);m.exportSymbol("contextFor",m.contextFor);m.exportSymbol("dataFor",m.dataFor);})();var h={"class":"className","for":"htmlFor"};m.bindingHandlers.attr={update:function(y,B,v){var A=m.utils.unwrapObservable(B())||{};for(var w in A){if(typeof w=="string"){var x=m.utils.unwrapObservable(A[w]);var z=(x===false)||(x===null)||(x===e);if(z){y.removeAttribute(w);}if(m.utils.ieVersion<=8&&w in h){w=h[w];if(z){y.removeAttribute(w);}else{y[w]=x;}}else{if(!z){y.setAttribute(w,x.toString());}}if(w==="name"){m.utils.setElementName(y,z?"":x.toString());}}}}};m.bindingHandlers.checked={init:function(w,y,v){var x=function(){var C;if(w.type=="checkbox"){C=w.checked;}else{if((w.type=="radio")&&(w.checked)){C=w.value;}else{return;}}var A=y(),B=m.utils.unwrapObservable(A);if((w.type=="checkbox")&&(B instanceof Array)){var z=m.utils.arrayIndexOf(B,w.value);if(w.checked&&(z<0)){A.push(w.value);}else{if((!w.checked)&&(z>=0)){A.splice(z,1);}}}else{m.expressionRewriting.writeValueToProperty(A,v,"checked",C,true);}};m.utils.registerEventHandler(w,"click",x);if((w.type=="radio")&&!w.name){m.bindingHandlers.uniqueName["init"](w,function(){return true;});}},update:function(v,x){var w=m.utils.unwrapObservable(x());if(v.type=="checkbox"){if(w instanceof Array){v.checked=m.utils.arrayIndexOf(w,v.value)>=0;}else{v.checked=w;}}else{if(v.type=="radio"){v.checked=(v.value==w);}}}};var i="__ko__cssValue";m.bindingHandlers.css={update:function(w,z){var y=m.utils.unwrapObservable(z());if(typeof y=="object"){for(var v in y){var x=m.utils.unwrapObservable(y[v]);m.utils.toggleDomNodeCssClass(w,v,x);}}else{y=String(y||"");m.utils.toggleDomNodeCssClass(w,w[i],false);w[i]=y;m.utils.toggleDomNodeCssClass(w,y,true);}}};m.bindingHandlers.enable={update:function(v,x){var w=m.utils.unwrapObservable(x());if(w&&v.disabled){v.removeAttribute("disabled");}else{if((!w)&&(!v.disabled)){v.disabled=true;}}}};m.bindingHandlers.disable={update:function(v,w){m.bindingHandlers.enable["update"](v,function(){return !m.utils.unwrapObservable(w());});}};function o(v){m.bindingHandlers[v]={init:function(x,z,w,A){var y=function(){var B={};B[v]=z();return B;};return m.bindingHandlers.event["init"].call(this,x,y,w,A);}};}m.bindingHandlers.event={init:function(w,z,v,A){var y=z()||{};for(var x in y){(function(){var B=x;if(typeof B=="string"){m.utils.registerEventHandler(w,B,function(F){var H;var G=z()[B];if(!G){return;}var C=v();try{var D=m.utils.makeArray(arguments);D.unshift(A);H=G.apply(A,D);}finally{if(H!==true){if(F.preventDefault){F.preventDefault();}else{F.returnValue=false;}}}var E=C[B+"Bubble"]!==false;if(!E){F.cancelBubble=true;if(F.stopPropagation){F.stopPropagation();}}});}})();}}};m.bindingHandlers.foreach={makeTemplateValueAccessor:function(v){return function(){var w=v(),x=m.utils.peekObservable(w);if((!x)||typeof x.length=="number"){return{foreach:w,templateEngine:m.nativeTemplateEngine.instance};}m.utils.unwrapObservable(w);return{foreach:x.data,as:x.as,includeDestroyed:x.includeDestroyed,afterAdd:x.afterAdd,beforeRemove:x.beforeRemove,afterRender:x.afterRender,beforeMove:x.beforeMove,afterMove:x.afterMove,templateEngine:m.nativeTemplateEngine.instance};};},init:function(x,y,v,z,w){return m.bindingHandlers.template["init"](x,m.bindingHandlers.foreach.makeTemplateValueAccessor(y));},update:function(x,y,v,z,w){return m.bindingHandlers.template["update"](x,m.bindingHandlers.foreach.makeTemplateValueAccessor(y),v,z,w);}};m.expressionRewriting.bindingRewriteValidators.foreach=false;m.virtualElements.allowedBindings.foreach=true;var l="__ko_hasfocusUpdating";m.bindingHandlers.hasfocus={init:function(w,A,v){var x=function(B){w[l]=true;var D=w.ownerDocument;if("activeElement" in D){B=(D.activeElement===w);}var C=A();m.expressionRewriting.writeValueToProperty(C,v,"hasfocus",B,true);w[l]=false;};var y=x.bind(null,true);var z=x.bind(null,false);m.utils.registerEventHandler(w,"focus",y);m.utils.registerEventHandler(w,"focusin",y);m.utils.registerEventHandler(w,"blur",z);m.utils.registerEventHandler(w,"focusout",z);},update:function(v,x){var w=m.utils.unwrapObservable(x());if(!v[l]){w?v.focus():v.blur();m.dependencyDetection.ignore(m.utils.triggerEvent,null,[v,w?"focusin":"focusout"]);}}};m.bindingHandlers.html={init:function(){return{controlsDescendantBindings:true};},update:function(v,w){m.utils.setHtml(v,w());}};var u="__ko_withIfBindingData";function p(v,x,w,y){m.bindingHandlers[v]={init:function(B,C,z,D,A){m.utils.domData.set(B,u,{});return{controlsDescendantBindings:true};},update:function(C,G,z,H,A){var I=m.utils.domData.get(C,u),B=m.utils.unwrapObservable(G()),F=!w!==!B,D=!I.savedNodes,E=D||x||(F!==I.didDisplayOnLastUpdate);if(E){if(D){I.savedNodes=m.utils.cloneNodes(m.virtualElements.childNodes(C),true);}if(F){if(!D){m.virtualElements.setDomNodeChildren(C,m.utils.cloneNodes(I.savedNodes));}m.applyBindingsToDescendants(y?y(A,B):A,C);}else{m.virtualElements.emptyNode(C);}I.didDisplayOnLastUpdate=F;}}};m.expressionRewriting.bindingRewriteValidators[v]=false;m.virtualElements.allowedBindings[v]=true;}p("if");p("ifnot",false,true);p("with",true,false,function(v,w){return v.createChildContext(w);});function k(v,w,x){if(x){if(w!==m.selectExtensions.readValue(v)){m.selectExtensions.writeValue(v,w);}}if(w!==m.selectExtensions.readValue(v)){m.dependencyDetection.ignore(m.utils.triggerEvent,null,[v,"change"]);}}m.bindingHandlers.options={update:function(A,N,w){if(m.utils.tagNameLower(A)!=="select"){throw new Error("options binding applies only to SELECT elements");}var L=A.length==0;var J=m.utils.arrayMap(m.utils.arrayFilter(A.childNodes,function(O){return O.tagName&&(m.utils.tagNameLower(O)==="option")&&O.selected;}),function(O){return m.selectExtensions.readValue(O)||O.innerText||O.textContent;});var I=A.scrollTop;var M=m.utils.unwrapObservable(N());var K=A.value;while(A.length>0){m.cleanNode(A.options[0]);A.remove(0);}if(M){var v=w(),C=v.optionsIncludeDestroyed;if(typeof M.length!="number"){M=[M];}if(v.optionsCaption){var F=b.createElement("option");m.utils.setHtml(F,v.optionsCaption);m.selectExtensions.writeValue(F,e);A.appendChild(F);}for(var B=0,D=M.length;B<D;B++){var y=M[B];if(y&&y._destroy&&!C){continue;}var F=b.createElement("option");function x(P,Q,O){var R=typeof Q;if(R=="function"){return Q(P);}else{if(R=="string"){return P[Q];}else{return O;}}}var H=x(y,v.optionsValue,y);m.selectExtensions.writeValue(F,m.utils.unwrapObservable(H));var G=x(y,v.optionsText,H);m.utils.setTextContent(F,G);A.appendChild(F);}var E=A.getElementsByTagName("option");var z=0;for(var B=0,D=E.length;B<D;B++){if(m.utils.arrayIndexOf(J,m.selectExtensions.readValue(E[B]))>=0){m.utils.setOptionNodeSelectionState(E[B],true);z++;}}A.scrollTop=I;if(L&&("value" in v)){k(A,m.utils.peekObservable(v.value),true);}m.utils.ensureSelectElementIsRenderedCorrectly(A);}}};m.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";m.bindingHandlers.selectedOptions={init:function(w,x,v){m.utils.registerEventHandler(w,"change",function(){var y=x(),z=[];m.utils.arrayForEach(w.getElementsByTagName("option"),function(A){if(A.selected){z.push(m.selectExtensions.readValue(A));}});m.expressionRewriting.writeValueToProperty(y,v,"value",z);});},update:function(v,x){if(m.utils.tagNameLower(v)!="select"){throw new Error("values binding applies only to SELECT elements");}var w=m.utils.unwrapObservable(x());if(w&&typeof w.length=="number"){m.utils.arrayForEach(v.getElementsByTagName("option"),function(z){var y=m.utils.arrayIndexOf(w,m.selectExtensions.readValue(z))>=0;m.utils.setOptionNodeSelectionState(z,y);});}}};m.bindingHandlers.style={update:function(v,z){var y=m.utils.unwrapObservable(z()||{});for(var w in y){if(typeof w=="string"){var x=m.utils.unwrapObservable(y[w]);v.style[w]=x||"";}}}};m.bindingHandlers.submit={init:function(w,x,v,y){if(typeof x()!="function"){throw new Error("The value for a submit binding must be a function");}m.utils.registerEventHandler(w,"submit",function(z){var A;var B=x();try{A=B.call(y,w);}finally{if(A!==true){if(z.preventDefault){z.preventDefault();}else{z.returnValue=false;}}}});}};m.bindingHandlers.text={update:function(v,w){m.utils.setTextContent(v,w());}};m.virtualElements.allowedBindings.text=true;m.bindingHandlers.uniqueName={init:function(v,x){if(x()){var w="ko_unique_"+(++m.bindingHandlers.uniqueName.currentIndex);m.utils.setElementName(v,w);}}};m.bindingHandlers.uniqueName.currentIndex=0;m.bindingHandlers.value={init:function(w,B,v){var x=["change"];var A=v()["valueUpdate"];var z=false;if(A){if(typeof A=="string"){A=[A];}m.utils.arrayPushAll(x,A);x=m.utils.arrayGetDistinctValues(x);}var C=function(){z=false;var E=B();var D=m.selectExtensions.readValue(w);m.expressionRewriting.writeValueToProperty(E,v,"value",D);};var y=m.utils.ieVersion&&w.tagName.toLowerCase()=="input"&&w.type=="text"&&w.autocomplete!="off"&&(!w.form||w.form.autocomplete!="off");if(y&&m.utils.arrayIndexOf(x,"propertychange")==-1){m.utils.registerEventHandler(w,"propertychange",function(){z=true;});m.utils.registerEventHandler(w,"blur",function(){if(z){C();}});}m.utils.arrayForEach(x,function(D){var E=C;if(m.utils.stringStartsWith(D,"after")){E=function(){setTimeout(C,0);};D=D.substring("after".length);}m.utils.registerEventHandler(w,D,E);});},update:function(x,A){var C=m.utils.tagNameLower(x)==="select";var z=m.utils.unwrapObservable(A());var y=m.selectExtensions.readValue(x);var B=(z!=y);if((z===0)&&(y!==0)&&(y!=="0")){B=true;}if(B){var w=function(){m.selectExtensions.writeValue(x,z);};w();var v=C;if(v){setTimeout(w,0);}}if(C&&(x.length>0)){k(x,z,false);}}};m.bindingHandlers.visible={update:function(v,y){var x=m.utils.unwrapObservable(y());var w=!(v.style.display=="none");if(x&&!w){v.style.display="";}else{if((!x)&&w){v.style.display="none";}}}};o("click");m.templateEngine=function(){};m.templateEngine.prototype.renderTemplateSource=function(x,v,w){throw new Error("Override renderTemplateSource");};m.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(v){throw new Error("Override createJavaScriptEvaluatorBlock");};m.templateEngine.prototype.makeTemplateSource=function(w,x){if(typeof w=="string"){x=x||b;var v=x.getElementById(w);if(!v){throw new Error("Cannot find template with ID "+w);}return new m.templateSources.domElement(v);}else{if((w.nodeType==1)||(w.nodeType==8)){return new m.templateSources.anonymousTemplate(w);}else{throw new Error("Unknown template type: "+w);}}};m.templateEngine.prototype.renderTemplate=function(x,v,w,y){var z=this["makeTemplateSource"](x,y);return this["renderTemplateSource"](z,v,w);};m.templateEngine.prototype.isTemplateRewritten=function(v,w){if(this["allowTemplateRewriting"]===false){return true;}return this["makeTemplateSource"](v,w)["data"]("isRewritten");};m.templateEngine.prototype.rewriteTemplate=function(x,v,y){var z=this["makeTemplateSource"](x,y);var w=v(z.text());z.text(w);z.data("isRewritten",true);};m.exportSymbol("templateEngine",m.templateEngine);m.templateRewriting=(function(){var w=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi;var x=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function y(C){var z=m.expressionRewriting.bindingRewriteValidators;for(var A=0;A<C.length;A++){var B=C[A]["key"];if(z.hasOwnProperty(B)){var E=z[B];if(typeof E==="function"){var D=E(C[A]["value"]);if(D){throw new Error(D);}}else{if(!E){throw new Error("This template engine does not support the '"+B+"' binding within its templates");}}}}}function v(A,D,E){var B=m.expressionRewriting.parseObjectLiteral(A);y(B);var C=m.expressionRewriting.preProcessBindings(B);var z="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+C+" } })()})";return E.createJavaScriptEvaluatorBlock(z)+D;}return{ensureTemplateIsRewritten:function(z,B,A){if(!B.isTemplateRewritten(z,A)){B.rewriteTemplate(z,function(C){return m.templateRewriting.memoizeBindingAttributeSyntax(C,B);},A);}},memoizeBindingAttributeSyntax:function(z,A){return z.replace(w,function(){return v(arguments[6],arguments[1],A);}).replace(x,function(){return v(arguments[1],"<!-- ko -->",A);});},applyMemoizedBindingsToNextSibling:function(z){return m.memoization.memoize(function(B,A){if(B.nextSibling){m.applyBindingsToNode(B.nextSibling,z,A);}});}};})();m.exportSymbol("__tr_ambtns",m.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){m.templateSources={};m.templateSources.domElement=function(w){this.domElement=w;};m.templateSources.domElement.prototype.text=function(){var x=m.utils.tagNameLower(this.domElement),w=x==="script"?"text":x==="textarea"?"value":"innerHTML";if(arguments.length==0){return this.domElement[w];}else{var y=arguments[0];if(w==="innerHTML"){m.utils.setHtml(this.domElement,y);}else{this.domElement[w]=y;}}};m.templateSources.domElement.prototype.data=function(w){if(arguments.length===1){return m.utils.domData.get(this.domElement,"templateSourceData_"+w);}else{m.utils.domData.set(this.domElement,"templateSourceData_"+w,arguments[1]);}};var v="__ko_anon_template__";m.templateSources.anonymousTemplate=function(w){this.domElement=w;};m.templateSources.anonymousTemplate.prototype=new m.templateSources.domElement();m.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var w=m.utils.domData.get(this.domElement,v)||{};if(w.textData===e&&w.containerData){w.textData=w.containerData.innerHTML;}return w.textData;}else{var x=arguments[0];m.utils.domData.set(this.domElement,v,{textData:x});}};m.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var w=m.utils.domData.get(this.domElement,v)||{};return w.containerData;}else{var x=arguments[0];m.utils.domData.set(this.domElement,v,{containerData:x});}};m.exportSymbol("templateSources",m.templateSources);m.exportSymbol("templateSources.domElement",m.templateSources.domElement);m.exportSymbol("templateSources.anonymousTemplate",m.templateSources.anonymousTemplate);})();(function(){var v;m.setTemplateEngine=function(C){if((C!=e)&&!(C instanceof m.templateEngine)){throw new Error("templateEngine must inherit from ko.templateEngine");}v=C;};function A(D,F,C){var H,G=D,E=m.virtualElements.nextSibling(F);while(G&&((H=G)!==E)){G=m.virtualElements.nextSibling(H);if(H.nodeType===1||H.nodeType===8){C(H);}}}function w(D,C){if(D.length){var E=D[0],F=D[D.length-1];A(E,F,function(G){m.applyBindings(C,G);});A(E,F,function(G){m.memoization.unmemoizeDomNodeAndDescendants(G,[C]);});}}function z(C){return C.nodeType?C:C.length>0?C[0]:null;}function y(I,H,J,C,F){F=F||{};var D=I&&z(I);var K=D&&D.ownerDocument;var L=(F.templateEngine||v);m.templateRewriting.ensureTemplateIsRewritten(J,L,K);var G=L.renderTemplate(J,C,F,K);if((typeof G.length!="number")||(G.length>0&&typeof G[0].nodeType!="number")){throw new Error("Template engine must return an array of DOM nodes");}var E=false;switch(H){case"replaceChildren":m.virtualElements.setDomNodeChildren(I,G);E=true;break;case"replaceNode":m.utils.replaceDomNodes(I,G);E=true;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+H);}if(E){w(G,C);if(F.afterRender){m.dependencyDetection.ignore(F.afterRender,null,[G,C["$data"]]);}}return G;}m.renderTemplate=function(I,D,F,H,G){F=F||{};if((F.templateEngine||v)==e){throw new Error("Set a template engine before calling renderTemplate");}G=G||"replaceChildren";if(H){var E=z(H);var J=function(){return(!E)||!m.utils.domNodeIsAttachedToDocument(E);};var C=(E&&G=="replaceNode")?E.parentNode:E;return m.dependentObservable(function(){var K=(D&&(D instanceof m.bindingContext))?D:new m.bindingContext(m.utils.unwrapObservable(D));var M=typeof(I)=="function"?I(K["$data"],K):I;var L=y(H,G,M,K,F);if(G=="replaceNode"){H=L;E=z(H);}},null,{disposeWhen:J,disposeWhenNodeIsRemoved:C});}else{return m.memoization.memoize(function(K){m.renderTemplate(I,D,F,K,"replaceNode");});}};m.renderTemplateForEach=function(J,E,G,I,H){var D;var F=function(K,L){D=H.createChildContext(m.utils.unwrapObservable(K),G.as);D["$index"]=L;var M=typeof(J)=="function"?J(K,D):J;return y(null,"ignoreTargetNode",M,D,G);};var C=function(L,K,M){w(K,D);if(G.afterRender){G.afterRender(K,L);}};return m.dependentObservable(function(){var L=m.utils.unwrapObservable(E)||[];if(typeof L.length=="undefined"){L=[L];}var K=m.utils.arrayFilter(L,function(M){return G.includeDestroyed||M===e||M===null||!m.utils.unwrapObservable(M._destroy);});m.dependencyDetection.ignore(m.utils.setDomNodeChildrenFromArrayMapping,null,[I,K,F,G,C]);},null,{disposeWhenNodeIsRemoved:I});};var B="__ko__templateComputedDomDataKey__";function x(C,D){var E=m.utils.domData.get(C,B);if(E&&(typeof(E.dispose)=="function")){E.dispose();}m.utils.domData.set(C,B,(D&&D.isActive())?D:e);}m.bindingHandlers.template={init:function(E,G){var C=m.utils.unwrapObservable(G());if((typeof C!="string")&&(!C.name)&&(E.nodeType==1||E.nodeType==8)){var F=E.nodeType==1?E.childNodes:m.virtualElements.childNodes(E),D=m.utils.moveCleanedNodesToContainerElement(F);new m.templateSources.anonymousTemplate(E)["nodes"](D);}return{controlsDescendantBindings:true};},update:function(G,M,C,N,D){var L=m.utils.unwrapObservable(M()),I={},J=true,F,K=null;if(typeof L!="string"){I=L;L=I.name;if("if" in I){J=m.utils.unwrapObservable(I["if"]);}if(J&&"ifnot" in I){J=!m.utils.unwrapObservable(I.ifnot);}F=m.utils.unwrapObservable(I.data);}if("foreach" in I){var E=(J&&I.foreach)||[];K=m.renderTemplateForEach(L||G,E,I,G,D);}else{if(!J){m.virtualElements.emptyNode(G);}else{var H=("data" in I)?D.createChildContext(F,I.as):D;K=m.renderTemplate(L||G,H,I,G);}}x(G,K);}};m.expressionRewriting.bindingRewriteValidators.template=function(C){var D=m.expressionRewriting.parseObjectLiteral(C);if((D.length==1)&&D[0]["unknown"]){return null;}if(m.expressionRewriting.keyValueArrayContainsKey(D,"name")){return null;}return"This template engine does not support anonymous templates nested within its templates";};m.virtualElements.allowedBindings.template=true;})();m.exportSymbol("setTemplateEngine",m.setTemplateEngine);m.exportSymbol("renderTemplate",m.renderTemplate);m.utils.compareArrays=(function(){var y="added",x="deleted";function v(B,A,z){B=B||[];A=A||[];if(B.length<=A.length){return w(B,A,y,x,z);}else{return w(A,B,x,y,z);}}function w(W,A,aa,Z,H){var Q=Math.min,P=Math.max,I=[],X,Y=W.length,B,C=A.length,F=(C-Y)||1,N=Y+C+1,ab,L,D,E;for(X=0;X<=Y;X++){L=ab;I.push(ab=[]);D=Q(C,X+F);E=P(0,X-1);for(B=E;B<=D;B++){if(!B){ab[B]=X+1;}else{if(!X){ab[B]=B+1;}else{if(W[X-1]===A[B-1]){ab[B]=L[B-1];}else{var R=L[B]||N;var ac=ab[B-1]||N;ab[B]=Q(R,ac)+1;}}}}}var J=[],O,U=[],S=[];for(X=Y,B=C;X||B;){O=I[X][B]-1;if(B&&O===I[X][B-1]){U.push(J[J.length]={status:aa,value:A[--B],index:B});}else{if(X&&O===I[X-1][B]){S.push(J[J.length]={status:Z,value:W[--X],index:X});}else{J.push({status:"retained",value:A[--B]});--X;}}}if(U.length&&S.length){var M=Y*10,K,z,G,V,T;for(K=z=0;(H||K<M)&&(V=U[z]);z++){for(G=0;T=S[G];G++){if(V.value===T.value){V.moved=T.index;T.moved=V.index;S.splice(G,1);K=G=0;break;}}K+=G;}}return J.reverse();}return v;})();m.exportSymbol("utils.compareArrays",m.utils.compareArrays);(function(){function v(y){while(y.length&&!m.utils.domNodeIsAttachedToDocument(y[0])){y.splice(0,1);}if(y.length>1){var z=y[0],A=y[y.length-1],B=[z];while(z!==A){z=z.nextSibling;if(!z){return;}B.push(z);}Array.prototype.splice.apply(y,[0,y.length].concat(B));}return y;}function x(z,D,E,y,B){var C=[];var A=m.dependentObservable(function(){var F=D(E,B)||[];if(C.length>0){m.utils.replaceDomNodes(v(C),F);if(y){m.dependencyDetection.ignore(y,null,[E,F,B]);}}C.splice(0,C.length);m.utils.arrayPushAll(C,F);},null,{disposeWhenNodeIsRemoved:z,disposeWhen:function(){return(C.length==0)||!m.utils.domNodeIsAttachedToDocument(C[0]);}});return{mappedNodes:C,dependentObservable:(A.isActive()?A:e)};}var w="setDomNodeChildrenFromArrayMapping_lastMappingResult";m.utils.setDomNodeChildrenFromArrayMapping=function(B,y,R,Y,z){y=y||[];Y=Y||{};var F=m.utils.domData.get(B,w)===e;var N=m.utils.domData.get(B,w)||[];var M=m.utils.arrayMap(N,function(Z){return Z.arrayEntry;});var C=m.utils.compareArrays(M,y);var T=[];var O=0;var U=0;var X=[];var K=[];var I=[];var J=[];var H=[];var Q;function G(Z,aa){Q=N[aa];if(U!==aa){J[Z]=Q;}Q.indexObservable(U++);v(Q.mappedNodes);T.push(Q);K.push(Q);}function A(Z,ab){if(Z){for(var aa=0,ac=ab.length;aa<ac;aa++){if(ab[aa]){m.utils.arrayForEach(ab[aa].mappedNodes,function(ad){Z(ad,aa,ab[aa].arrayEntry);});}}}}for(var E=0,D,S;D=C[E];E++){S=D.moved;switch(D.status){case"deleted":if(S===e){Q=N[O];if(Q.dependentObservable){Q.dependentObservable.dispose();}X.push.apply(X,v(Q.mappedNodes));if(Y.beforeRemove){I[E]=Q;K.push(Q);}}O++;break;case"retained":G(E,O++);break;case"added":if(S!==e){G(E,S);}else{Q={arrayEntry:D.value,indexObservable:m.observable(U++)};T.push(Q);K.push(Q);if(!F){H[E]=Q;}}break;}}A(Y.beforeMove,J);m.utils.arrayForEach(X,Y.beforeRemove?m.cleanNode:m.removeNode);for(var E=0,V=m.virtualElements.firstChild(B),P,W;Q=K[E];E++){if(!Q.mappedNodes){m.utils.extend(Q,x(B,R,Q.arrayEntry,z,Q.indexObservable));}for(var L=0;W=Q.mappedNodes[L];V=W.nextSibling,P=W,L++){if(W!==V){m.virtualElements.insertAfter(B,W,P);}}if(!Q.initialized&&z){z(Q.arrayEntry,Q.mappedNodes,Q.indexObservable);Q.initialized=true;}}A(Y.beforeRemove,I);A(Y.afterMove,J);A(Y.afterAdd,H);m.utils.domData.set(B,w,T);};})();m.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",m.utils.setDomNodeChildrenFromArrayMapping);m.nativeTemplateEngine=function(){this["allowTemplateRewriting"]=false;};m.nativeTemplateEngine.prototype=new m.templateEngine();m.nativeTemplateEngine.prototype.renderTemplateSource=function(z,v,w){var B=!(m.utils.ieVersion<9),y=B?z.nodes:null,x=y?z.nodes():null;if(x){return m.utils.makeArray(x.cloneNode(true).childNodes);}else{var A=z.text();return m.utils.parseHtmlFragment(A);}};m.nativeTemplateEngine.instance=new m.nativeTemplateEngine();m.setTemplateEngine(m.nativeTemplateEngine.instance);m.exportSymbol("nativeTemplateEngine",m.nativeTemplateEngine);(function(){m.jqueryTmplTemplateEngine=function(){var y=this.jQueryTmplVersion=(function(){if((typeof(c)=="undefined")||!(c.tmpl)){return 0;}try{if(c.tmpl["tag"]["tmpl"]["open"].toString().indexOf("__")>=0){return 2;}}catch(z){}return 1;})();function w(){if(y<2){throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}}function x(z,A,B){return c.tmpl(z,A,B);}this["renderTemplateSource"]=function(F,z,C){C=C||{};w();var D=F.data("precompiled");if(!D){var G=F.text()||"";G="{{ko_with $item.koBindingContext}}"+G+"{{/ko_with}}";D=c.template(null,G);F.data("precompiled",D);}var A=[z["$data"]];var B=c.extend({koBindingContext:z},C.templateOptions);var E=x(D,A,B);E.appendTo(b.createElement("div"));c.fragments={};return E;};this["createJavaScriptEvaluatorBlock"]=function(z){return"{{ko_code ((function() { return "+z+" })()) }}";};this["addTemplate"]=function(A,z){b.write("<script type='text/html' id='"+A+"'>"+z+"</script>");};if(y>0){c.tmpl["tag"]["ko_code"]={open:"__.push($1 || '');"};c.tmpl["tag"]["ko_with"]={open:"with($1) {",close:"} "};}};m.jqueryTmplTemplateEngine.prototype=new m.templateEngine();var v=new m.jqueryTmplTemplateEngine();if(v.jQueryTmplVersion>0){m.setTemplateEngine(v);}m.exportSymbol("jqueryTmplTemplateEngine",m.jqueryTmplTemplateEngine);})();});})(window,document,navigator,window.jQuery);})();